const t='\n<fieldset>\n\t<legend>\n\t\t<label for="control" id="label" part="label"><slot name="label"></slot></label>\n\t\t<div id="help" part="help"><slot name="help"></slot></div>\n\t\t<div id="error" part="error"><slot name="error"></slot></div>\n\t\t</legend>\n\t<div part="container">\n\t\t<slot></slot>\n\t</div>\n</fieldset >\n',e='\n:host {\n\tdisplay: flex;\n\tflex-direction: column;\n\tfont-size: var(--ui-font-size-1);\n\tfont-family: var(--ui-font-family);\n\tcolor: var(--ui-text-color-0);\n}\n\nfieldset {\n\tborder: none;\n\tmargin: 0;\n\tpadding: 0;\n\tmin-inline-size: 0;\n\theight: auto;\n\tdisplay: contents;\n}\n\nlegend {\n\tmargin: 0;\n    padding: 0;\n}\n\n#control {\n  border: var(--ui-form-control-border);\n  border-radius: var(--ui-border-radius);\n  height: var(--ui-form-control-height-medium);\n  font-size: inherit;\n  color: inherit;\n\n  &:focus {\n\toutline: var(--ui-focus-ring);\n\toutline-offset: var(--ui-focus-ring-offset);\n  }\n}\n\n#error {\n\tcolor: var(--ui-text-color-error);\n}\n\n:host([help]) #help,\n:host([error]) #error {\n  margin-block-start: var(--ui-space-2);\n}\n\n[part="container"] {\n  display: flex;\n  flex-direction: column;\n  margin-block: var(--ui-space-4);\n  gap: var(--ui-space-4);\n}\n\n:host([error]) {\n  #control {\n\tborder-color: var(--ui-border-color-error);\n  \n\t&:focus {\n\t  outline-color: var(--ui-border-color-error);\n\t}\n  }\n}\n';class i extends HTMLElement{static formAssociated=!0;static get observedAttributes(){return["value","error","label","help","disabled","autofocus","required","name","min-selections","max-selections","exact-selections"]}#t;#e;#i;#r;#s;#n;constructor(){super(),this.pristine=!0,this.#t=this.attachInternals(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${e}</style>${t}`),this.#e=this.shadowRoot.getElementById("error"),this.#i=this.shadowRoot.getElementById("label"),this.#r=this.shadowRoot.getElementById("help"),this.#s=this.shadowRoot.querySelector("fieldset"),this.#n=this.shadowRoot.querySelector("slot")}get value(){return this.checkedValues.join(",")}set value(t){for(const e of this.checkboxes){const i=t.split(",").includes(e.value);e.checked!==i&&(e.checked=i)}this.#t.setFormValue(this.value),this.#l()}get label(){return this.getAttribute("label")}set label(t){t?this.setAttribute("label",t):this.removeAttribute("label")}get help(){return this.getAttribute("help")}set help(t){t?this.setAttribute("help",t):this.removeAttribute("help")}get error(){return this.getAttribute("error")}set error(t){t?this.setAttribute("error",t):this.removeAttribute("error")}get form(){return this.#t.form}get name(){return this.getAttribute("name")}get type(){return this.localName}get validity(){return this.#t.validity}get validationMessage(){return this.#t.validationMessage}get willValidate(){return this.#t.willValidate}get validateOnChange(){return this.hasAttribute("validate-on-change")}set validateOnChange(t){t?this.setAttribute("validate-on-change",""):this.removeAttribute("validate-on-change")}get validateOnInputAfterSubmitted(){return this.hasAttribute("validate-on-input-after-submitted")}set validateOnInputAfterSubmitted(t){t?this.setAttribute("validate-on-input-after-submitted",""):this.removeAttribute("validate-on-input-after-submitted")}set formDisabled(t){this.#t.formDisabled=t}get checkedValues(){return Array.from(this.checkboxes).filter((t=>t.checked)).map((t=>t.getAttribute("value")||""))}get checkboxes(){return this.querySelectorAll("ui-checkbox")}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get minSelections(){return Number.parseInt(this.getAttribute("min-selections"),10)||0}set minSelections(t){null!=t?this.setAttribute("min-selections",t):this.removeAttribute("min-selections")}get maxSelections(){const t=this.getAttribute("max-selections");return null!==t?Number.parseInt(t,10):Number.POSITIVE_INFINITY}set maxSelections(t){null!=t?this.setAttribute("max-selections",t):this.removeAttribute("max-selections")}get exactSelections(){const t=this.getAttribute("exact-selections");return null!==t?Number.parseInt(t,10):null}set exactSelections(t){null!=t?this.setAttribute("exact-selections",t):this.removeAttribute("exact-selections")}connectedCallback(){this.addEventListener("input",this.#o),this.addEventListener("change",this.#a),this.#n.addEventListener("slotchange",(t=>{this.#l()})),this.form&&this.form.addEventListener("submit",this.#h),this.hasAttribute("autofocus")&&this.focus(),this.error&&this.#t.setValidity({customError:!0},this.error)}disconnectedCallback(){this.removeEventListener("input",this.#o),this.removeEventListener("change",this.#a),this.#t.form&&this.#t.form.removeEventListener("submit",this.#h)}attributeChangedCallback(t,e,i){"value"===t&&this.value!==i&&this.#t.setFormValue(i),"error"===t&&i!==e&&(this.#e.textContent=i),"label"===t&&(this.#i.textContent=i),"help"===t&&(this.#r.textContent=i)}formDisabledCallback(t){t?this.#s.setAttribute("aria-disabled","true"):this.#s.removeAttribute("aria-disabled");for(const e of this.checkboxes)e.disabled=t}formResetCallback(){for(const t of this.checkboxes)t.checked=!1;this.#t.setFormValue(""),this.#t.setValidity({}),this.error=""}reportValidity(){return this.#l({showError:!0})}focus(){this.checkboxes[0]?.focus()}checkValidity(){this.#l()}#l=({showError:t=!1}={})=>{const e=this.checkedValues.length;this.error="";const i=(e,i)=>(this.#t.setValidity(e,i),t&&(this.error=i),!1);return null!==this.exactSelections&&e!==this.exactSelections?i({customError:!0},`Select exactly ${this.exactSelections} options.`):e<this.minSelections?i({rangeUnderflow:!0},`Select at least ${this.minSelections} options.`):e>this.maxSelections?i({rangeOverflow:!0},`Select no more than ${this.maxSelections} options.`):this.required&&0===e?i({valueMissing:!0},"Select at least one option."):(this.#t.setValidity({}),!0)};#o=t=>{t.target.matches("ui-checkbox")&&this.#t.form?.validateOnInputAfterSubmit&&this.#t.form.submitted&&(t.preventDefault(),t.stopPropagation(),this.pristine=!1,this.#l({showError:!0}))};#a=t=>{t.target.matches("ui-checkbox")&&this.validateOnChange&&(t.preventDefault(),t.stopPropagation(),this.pristine=!1,this.#t.setFormValue(this.value),this.#l({showError:!0}))};#h=t=>{if(this.#l({showError:!0}),this.error){t.preventDefault();for(const t of this.#t.form.elements)if(!t.validity.valid){t===this&&(this.#t.form.submitted=!0,t.focus());break}}}}customElements.define("ui-checkbox-group",i);export{i as CheckboxGroup,e as checkboxGroupStyles,t as checkboxGroupTemplate};
